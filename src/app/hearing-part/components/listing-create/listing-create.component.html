<div style="display:flex">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Create a new listing request</mat-card-title>
        </mat-card-header>

        <mat-card-content fxLayout="row" fxLayoutGap="5%">
            <form id="ngForm" #newListForm="ngForm" (ngSubmit)="create();" fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="0.5%">
                <div *ngIf="errors">Error: {{errors}}</div>

                <mat-form-field>
                    <input id="caseNumber" [(ngModel)]="listing.caseNumber" name="caseNumber" matInput placeholder="Case number" type="text" required>
                </mat-form-field>

                <mat-form-field>
                    <input id="caseTitle" [(ngModel)]="listing.caseTitle" name="caseTitle" matInput placeholder="Case title" type="text" required>
                </mat-form-field>

                <mat-form-field>
                    <mat-select id="selectCaseType" placeholder="Case type" ngModel name="caseType" [(value)]="listing.caseType" [required]="true">
                        <mat-option *ngFor="let case of caseTypes" value="{{case}}">{{case}}</mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field>
                    <mat-select id="selectHearingPart" placeholder="Hearing type" ngModel name="hearingType" [(value)]="listing.hearingType" required>
                        <mat-option *ngFor="let hearing of hearings" value="{{hearing}}">{{hearing}}</mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field>
                    <input id="duration" [formControl]="estDurationForm" [(ngModel)]="duration" name="duration" type="number" matInput placeholder="Estimated duration" min="1" required>
                    <span matSuffix>Minutes</span>
                </mat-form-field>

                <mat-form-field>
                    <input matInput [matDatepicker]="createdAt" [(ngModel)]="listing.createdAt" name="createdAt" placeholder="Created at:">
                    <mat-datepicker-toggle matSuffix [for]="createdAt"></mat-datepicker-toggle>
                    <mat-datepicker #createdAt></mat-datepicker>
                </mat-form-field>

                <div>Target Schedule <i>(DD/MM/YYYY)</i></div>
                <mat-form-field class="date-picker-element">
                    <input id="fromDate" matInput [matDatepicker]="pickerStart" [(ngModel)]="listing.scheduleStart" name="scheduleStart" placeholder="From:" re>
                    <mat-datepicker-toggle matSuffix [for]="pickerStart"></mat-datepicker-toggle>
                    <mat-datepicker #pickerStart></mat-datepicker>
                </mat-form-field>

                <mat-form-field class="date-picker-element">
                    <input id="endDate" matInput [matDatepicker]="pickerEnd" [(ngModel)]="listing.scheduleEnd" name="scheduleEnd" placeholder="To:">
                    <mat-datepicker-toggle matSuffix [for]="pickerEnd"></mat-datepicker-toggle>
                    <mat-datepicker #pickerEnd></mat-datepicker>
                </mat-form-field>
            </form>

            <div style="padding-right: 2em">
                <div fxLayout="column" fxLayoutGap="10%">
                    <app-note-list [notes]="listing.notes"></app-note-list>
                </div>
            </div>

        </mat-card-content>

        <mat-card-actions>
            <button id="save" mat-raised-button color="accent" fxFlexAlign="right" form="ngForm" [disabled]="isValid(newListForm)">Save</button>
        </mat-card-actions>
    </mat-card>
</div>